<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ğŸ“Š ä»Šæ—¥ã®Xãƒˆãƒ¬ãƒ³ãƒ‰ï¼ˆæ“¬ä¼¼ï¼‰</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 40px;
      background: #f9f9f9;
    }
    h1 {
      font-size: 24px;
      color: #222;
      margin-bottom: 20px;
    }
    .category-block {
      margin-bottom: 40px;
    }
    .category-title {
      font-weight: bold;
      font-size: 20px;
      margin-bottom: 10px;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      font-size: 18px;
      margin: 10px 0;
    }
    button {
      margin-left: 10px;
      padding: 5px 10px;
      cursor: pointer;
    }
    #generatedText {
      margin-top: 30px;
      font-size: 18px;
      padding: 15px;
      background: #fff;
      border-radius: 6px;
      border: 1px solid #ccc;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      white-space: pre-wrap;
    }
    #copyBtn {
      margin-top: 15px;
      padding: 8px 16px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <h1>ğŸ“Š ä»Šæ—¥ã®Xãƒˆãƒ¬ãƒ³ãƒ‰ï¼ˆæ“¬ä¼¼ï¼‰</h1>
  <div id="trendBlocks">èª­ã¿è¾¼ã¿ä¸­...</div>

  <div id="generatedText"></div>
  <button id="copyBtn" style="display:none">ğŸ“‹ ã‚³ãƒ”ãƒ¼ã™ã‚‹</button>

  <script>
    const exampleTemplates = {
      "#ChatGPT": "ChatGPTã‚’ä½¿ã£ã¦å‰¯æ¥­ã‚„åƒãæ–¹ãŒæ ¹æœ¬ã‹ã‚‰å¤‰ã‚ã‚Šã¾ã—ãŸã€‚#ChatGPT",
      "#BTC": "BTCã‚’3å¹´å‰ã«è²·ã£ã¦ãŸã‚‰ä»Šã¯è³‡ç”£ãŒå€ã€‚ã‚ã®ã¨ãã®åˆ¤æ–­ã€é–“é•ã£ã¦ãªã‹ã£ãŸã€‚#BTC",
      "#äººç”Ÿé€†è»¢": "ã‚‚ã†çµ‚ã‚ã‚Šã ã¨æ€ã£ãŸæ™‚æœŸã‹ã‚‰ã€é€†ã«å…¨ã¦ãŒå§‹ã¾ã‚Šã¾ã—ãŸã€‚#äººç”Ÿé€†è»¢"
    };

    fetch("https://script.google.com/macros/s/AKfycbx_65B_MZHXOEeVYet_OeV0-gqgGXpFMiZE5cwl1S-huWb_SwG7YKaUeiBmIbT7wDA/exec")
      .then(res => res.json())
      .then(data => {
        const trendBlocks = document.getElementById("trendBlocks");
        trendBlocks.innerHTML = "";

        const grouped = {};
        data.forEach(item => {
          const [keyword, category] = item.split("ï½œ");
          if (!grouped[category]) grouped[category] = [];
          grouped[category].push(keyword);
        });

        for (const category in grouped) {
          const block = document.createElement("div");
          block.className = "category-block";

          const title = document.createElement("div");
          title.className = "category-title";
          title.textContent = category;
          block.appendChild(title);

          const ul = document.createElement("ul");
          grouped[category].forEach(keyword => {
            const li = document.createElement("li");
            li.innerHTML = `${keyword} <button onclick=\"generateText('${keyword}')\">âœï¸ ä½œæˆ</button>`;
            ul.appendChild(li);
          });
          block.appendChild(ul);
          trendBlocks.appendChild(block);
        }
      })
      .catch(() => {
        document.getElementById("trendBlocks").innerHTML = "èª­ã¿è¾¼ã¿å¤±æ•—ã—ã¾ã—ãŸ";
      });

    function generateText(keyword) {
      const text = exampleTemplates[keyword] || `${keyword} ã«é–¢ã™ã‚‹æŠ•ç¨¿æ–‡ã¯ã¾ã æº–å‚™ä¸­ã§ã™ã€‚`;
      const output = document.getElementById("generatedText");
      output.textContent = text;
      document.getElementById("copyBtn").style.display = "inline-block";
    }

    document.getElementById("copyBtn").addEventListener("click", () => {
      const content = document.getElementById("generatedText").textContent;
      navigator.clipboard.writeText(content);
      alert("ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼");
    });
  </script>
</body>
</html>
